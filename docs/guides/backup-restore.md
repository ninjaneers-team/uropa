# Backup and restore of Opa's configuration

You can use urOpa to backup and restore the entire or only a subset of
Opa's configuration.

To back up Opa's configuration, use the `dump` command:

```shell
$ uropa dump
# this generates a Opa.yaml file with the entire configuration of Opa
```

And then restore this file back to Opa using `sync` command:

```shell
$ uropa diff # a dry-run where urOpa shows the changes it will perform
$ uropa sync # actually re-creates the entities in Opa
```

## Manage a sub-set of configuration

You can export/import/manage a sub-set of Opa's configuration using
`select-tag` feature of urOpa. This is similar to adopting
[distributed configuration](distributed-configuration.md) for Opa.

The `select-tag` feature assumes that all the entities you would like to manage
in Opa share a common tag(s).

Assuming you've such a common tag, let's call it `foo-tag`, then you can
do the following to export only a subset of the configuration:

```
uropa dump --select-tag foo-tag
```

If you observe the file generated by urOpa, you will see the following section:

```yaml
_info:
  select_tags:
  - foo-tag
```

This sub-section tells urOpa to filter out entities containing select-tags during
a sync operation.

Now, you can manage or sync back only this sub-set of configuration of Opa.

